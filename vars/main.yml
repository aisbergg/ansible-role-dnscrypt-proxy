---
# requirements for dnscrypt-proxy
__dnscrypt_proxy_requirements_os:
    debian:
      - dnscrypt-proxy
      - python3-toml
    redhat:
      - dnscrypt-proxy
      - python3-toml
    redhat7:
      - dnscrypt-proxy2
      - python3-toml
    default:
      - dnscrypt-proxy
      - python-toml
__dnscrypt_proxy_requirements: "{{
    __dnscrypt_proxy_requirements_os[ansible_os_family | lower ~ ansible_distribution_major_version] |
    default(__dnscrypt_proxy_requirements_os[ansible_os_family | lower]) |
    default(__dnscrypt_proxy_requirements_os['default'])
  }}"

# service name
__dnscrypt_proxy_service_name: dnscrypt-proxy

# configuration
__dnscrypt_proxy_config_file: /etc/dnscrypt-proxy/dnscrypt-proxy.toml
__dnscrypt_proxy_config_defauls:
  server_names:
    - "quad9-dnscrypt-ip6-filter-pri"
    - "quad9-dnscrypt-ip6-filter-alt"
    - "quad9-dnscrypt-ip4-filter-pri"
    - "quad9-dnscrypt-ip4-filter-alt"
  fallback_resolvers:
    - "9.9.9.9:53"
    - "8.8.8.8:53"
  netprobe_address: "9.9.9.9:53"

  ignore_system_dns: true
  ipv4_servers: true
  ipv6_servers: true
  dnscrypt_servers: true
  doh_servers: false

  tls_cipher_suite:
    - 52392
    - 49199

  sources:
    quad9-resolvers:
      urls:
        - https://www.quad9.net/quad9-resolvers.md
      cache_file: quad9-resolvers.md
      minisign_key: RWQBphd2+f6eiAqBsvDZEBXBGHQBJfeG6G+wJPPKxCZMoEQYpmoysKUN
      prefix: 'quad9-'
